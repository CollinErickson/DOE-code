D <- 1
M <- 4
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 1
M <- 4
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 4
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 4
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 4
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
M <- 8
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
M <- 8
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
M <- 8
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
M <- 8
mag <- matrix(runif(M,-1,1),ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- (sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- (sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
mag
mag
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
mag
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag
mag
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 8
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
D <- 2
M <- 30
#mag <- matrix(runif(M,-1,1),ncol=1)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i^2,1/i^2)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
mag <- matrix(sapply(1:M,function(i){runif(1,-1/i,1/i)}), ncol=1)
dirr <- matrix(runif(D*M,-1,1),ncol=D)
offset <- runif(M)
fff <- function(x,mag,dirr,offset) {#browser()
#x <- matrix(x,ncol=2)
(sin(2*pi* sweep(sweep(x %*% t(dirr),2,offset,'+'), 2,1:length(mag),'*')) %*% mag)
}
if (D==1)curve(fff(x,mag,dirr,offset))
if(D==2)contourfilled::contourfilled.func(function(xx){fff(xx,mag,dirr,offset)},batchmax = 10)
